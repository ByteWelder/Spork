apply plugin: 'com.android.library'
apply from: rootProject.file('gradle/jacoco.gradle')

ext {
    androidSupportVersion = '24.2.0'
}

dependencies {
    compile (
        project(':spork-android'),
        [group: 'com.android.support', name: 'support-v4', version: androidSupportVersion],
        [group: 'com.android.support', name: 'appcompat-v7', version: androidSupportVersion],
        [group: 'com.android.support', name: 'recyclerview-v7', version: androidSupportVersion]
    )

    testCompile (
        'junit:junit:4.12'
    )

    androidTestCompile (
        [group: 'com.android.support.test', name: 'runner', version: '0.5'],
        [group: 'com.android.support.test.espresso', name: 'espresso-core', version: '2.2.2'],
        [group: 'com.android.support.test.espresso', name: 'espresso-contrib', version: '2.2.2']
    )
}

android {
    compileSdkVersion 24
    buildToolsVersion '24.0.2'

    defaultConfig {
        minSdkVersion 15
        targetSdkVersion 24
        versionCode 1
        versionName VERSION_NAME
        testInstrumentationRunner 'io.github.sporklibrary.android.support.TestRunner'
        testHandleProfiling true
        testFunctionalTest true
        consumerProguardFiles 'proguard.pro'
    }

    packagingOptions {
        exclude 'META-INF/DEPENDENCIES'
        exclude 'META-INF/LICENSE'
        exclude 'META-INF/LICENSE.txt'
        exclude 'META-INF/NOTICE'
        exclude 'META-INF/NOTICE.txt'
        exclude 'META-INF/ASL2.0'
        exclude 'META-INF/ASL2.0.txt'
        exclude 'LICENSE.txt'
        exclude 'LICENSE'
    }

    buildTypes {
        debug {
            testCoverageEnabled true
        }
    }
}

apply from: rootProject.file('gradle/gradle-mvn-push-android.gradle')