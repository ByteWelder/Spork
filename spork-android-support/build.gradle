apply plugin: 'com.android.library'

ext {
    androidSupportVersion = '24.2.0'
}

dependencies {
    compile (
        [group: 'io.github.sporklibrary', name: 'spork', version: VERSION_NAME],
        [group: 'io.github.sporklibrary', name: 'spork-android', version: VERSION_NAME],
        [group: 'com.android.support', name: 'support-fragment', version: androidSupportVersion]
    )

    testCompile (
        [group: 'junit', name: 'junit', version: '4.12']
    )

    androidTestCompile ([group: 'com.android.support.test', name: 'runner', version: '0.5'])
    androidTestCompile ([group: 'com.android.support.test.espresso', name: 'espresso-core', version: '2.2.2'])
    androidTestCompile ([group: 'com.android.support.test.espresso', name: 'espresso-contrib', version: '2.2.2']) {
        exclude group: 'com.android.support', module: 'support-compat'
        exclude group: 'com.android.support', module: 'support-v4'
    }
}

android {
    compileSdkVersion 24
    buildToolsVersion '24.0.2'

    defaultConfig {
        minSdkVersion 15
        targetSdkVersion 24
        versionCode 1
        versionName VERSION_NAME
        testInstrumentationRunner 'io.github.sporklibrary.android.support.test.TestRunner'
        testHandleProfiling true
        testFunctionalTest true
        consumerProguardFiles 'proguard.pro'
    }

    packagingOptions {
        exclude 'META-INF/DEPENDENCIES'
        exclude 'META-INF/LICENSE'
        exclude 'META-INF/LICENSE.txt'
        exclude 'META-INF/NOTICE'
        exclude 'META-INF/NOTICE.txt'
        exclude 'META-INF/ASL2.0'
        exclude 'META-INF/ASL2.0.txt'
        exclude 'LICENSE.txt'
        exclude 'LICENSE'
    }

    buildTypes {
        debug {
            testCoverageEnabled true
        }
    }
}

apply from: rootProject.file('gradle/maven-android.gradle')